<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Random Line Picker</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <script src="http://cdn.staticfile.org/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://cdn.staticfile.org/underscore.js/1.7.0/underscore-min.js"></script>
  <script src="http://cdn.staticfile.org/twitter-bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.3.1/css/bootstrap.css">
  <style>
    .container {
      margin-top: 60px;
    }
    #selected-items {
      display: inline-block;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="row">
    <div class="col-md-6">
      <form class="form-vertical" id="random" method="post">
        <input class="form-control" type="hidden" name="action" value="submit" >Enter one item per line
        <br />
        <textarea class="form-control" cols="40" rows="10" id="items"></textarea>
        <br />
        <input class="btn btn-primary" type="submit" value="Select">
      </form>
    </div>
    <div id="selected-items" class"col-md-6">
    </div>
  </div>
  <script type="text/javascript">
    $(document).ready(function(){
      $("#random").submit(function() {
        var items = $("#items").val().split('\n');
        items = items.filter(function(str) {
            return /\S/.test(str);
        });
        console.log(items);
        var desiredIndex = Math.floor(Math.random() * items.length);
        $("#selected-items").append(items[desiredIndex]+"<br/>");
        items.splice(desiredIndex, 1);
        $("#items").val(items.join("\n"));
        return false;
      })
    })
  </script>
</body>
</html>
